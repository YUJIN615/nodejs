쿠키와 세션 이해하기

쿠키의 필요성
- 요청에는 한 가지 단점이 있음
- 누가 요청을 보냈는지 모름 (IP 주소와 브라우저 정보 정보만 암)
- 로그인을 구현하면 됨
- 쿠키와 세션이 필요
- 쿠키: 키=값의 쌍
- name=yujin
- 매 요청마다 서버에 동봉해서 보냄
- 서버는 쿠키를 읽어서 누구인지 파악

쿠키 서버 만들기
- 쿠키 넣는 것을 직접 구현
- writeHead: 요청 헤더에 입력하는 메서드
- 헤더에 Set-Cookie 를 서버에서 브라우저로 보내줄 수 있음
- 그 다음 요청부터는 브라우저에 있는 쿠키를 전달해줌
- 그러면 req.headers.cookie 로 읽어올 수 있음
- Set-Cookie: 브라우저에게 쿠키를 설정하라고 명령
- 브라우저를 켜고 있는 순간까지 유지됨

헤더와 본문
- http 요청과 응답은 헤더와 본문을 가짐
- 헤더는 요청 또는 응답에 대한 정보를 가짐
- 본문은 주고받는 실제 데이터
- 쿠키는 부가적인 정보이므로 헤더에 저장
